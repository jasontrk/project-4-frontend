<!DOCTYPE html>
<html ng-app="mediaApp">
<head>
  <base href="/">
  <meta charset="utf-8">
  <title>Angular Stack Setup</title>
  <!-- inject:js -->
  <!-- endinject -->
  <!-- inject:css -->
  <!-- endinject -->
</head>
<body ng-controller="MainCtrl as main" ng-class="main.pageName">
  <nav>
    <ul class="container">
      <li><a ui-sref="home">Media App</a></li>
      <li ng-if="!main.isAuthenticated()"><a ui-sref="register">Register</a></li>
      <li ng-if="!main.isAuthenticated()"><a ui-sref="login">Login</a></li>
      <li ng-if="main.isAuthenticated()"><a href="#" ng-click="main.logout()">Logout</a></li>
      <li ng-if="main.isAuthenticated()"><a ui-sref="mediaIndex">Media</a></li>
      <li ng-if="main.isAuthenticated()"><a ui-sref="usersShow({ id: main.currentUserId })">Profile</a></li>
      <li ng-click="main.logout()" ng-if="main.isAuthenticated()"><a href="#">Logout</a></li>
    </ul>
  </nav>

  <div ng-controller="MediaIndexCtrl as mediaIndex">
    <form ng-submit="mediaIndex.searchMedia()">
      <input type="text" ng-model="mediaIndex.medium">
      <button>Submit</button>
    </form>

    <div ng-repeat="medium in mediaIndex.media">
      <h5>{{ medium.title }}</h5>
      <button ng-click="mediaIndex.viewMedium(medium)">View</button>
    </div>
  </div>

  <main ui-view>

  </main>
</body>
</html>

<!-- <body ng-controller="MainCtrl as main">
<ul>
<li ng-repeat="user in main.users">
<strong>{{ user.username }}</strong>
<div ng-repeat="medium in user.saved_media">
<p><em>Saved Media:{{ medium.name }}</em></p>
</div>
</li>
</ul>
</body>
</html> -->
